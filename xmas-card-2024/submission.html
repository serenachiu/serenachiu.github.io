<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>2024陪你過聖誕</title>

      <!-- Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">

    <!-- other -->
    <script type="text/javascript" src="https://html2canvas.hertzen.com/dist/html2canvas.js"></script>    

    <!-- main -->
    <link rel="stylesheet" href="./xmas-card.css">
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const targetDiv = document.querySelector('.download');
        targetDiv.innerHTML = localStorage.getItem('downloadHTML');

        document.getElementById("submit-contact").innerText = localStorage.getItem('input-contact');
      });

      function downloadCart() {
        const targetDiv = document.querySelector(".download");

        // Use html2canvas to download the "targetDiv" as an image
        html2canvas(targetDiv).then(canvas => {
            const imgData = canvas.toDataURL('image/jpg');
            const link = document.createElement('a');
            link.href = imgData;
            link.download = '2024陪你過聖誕_訂單記錄.jpg';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }).catch(error => {
            console.error('Error capturing div as image:', error);
        });
      }
    </script>

  </head>

<body>

  <header class="header">
    <div class="content">
      <div class="title">下單成功! 多謝支持♥♥</div>
    </div>
  </header>

  <main class="submission">

    <p>
      所有貨品一經成功下單付款不設退換<br><br>
      預計到貨日期: 12月頭<br>
      如有任何疑問 請dm @speak_slothlly<br>
    </p>

    <div class="download">
      <!-- append download HTML here -->
    </div>

    <div class="button-grid">
      <button onclick="downloadCart()">下載訂單記錄</button>
      <a href="./index.html"><button>再次下單</button></a>
    </div>

  </main>
  </div>
</body>
</html>
